// backbone-subroute.js v0.4.1
//
// Copyright (C) 2012 Dave Cadwallader, Model N, Inc.  
// Distributed under the MIT License
//
// Documentation and full license available at:
// https://github.com/ModelN/backbone.subroute
(function(f){"function"===typeof define&&define.amd?define(["underscore","backbone"],f):f(_,Backbone)})(function(f,c){c.SubRoute=c.Router.extend({constructor:function(a,b){this.routes=f.clone(this.routes);this.prefix=a=a||"";this.separator="/"===a.slice(-1)?"":"/";this.createTrailingSlashRoutes=b&&b.createTrailingSlashRoutes;c.Router.prototype.constructor.call(this,b);var d;d=c.history.fragment?c.history.getFragment():c.history.getHash();f.every(this.routes,function(a,b){return d.match(c.Router.prototype._routeToRegExp(b))? (c.history.loadUrl(d),!1):!0},this);this.postInitialize&&this.postInitialize(b)},navigate:function(a,b){"/"!=a.substr(0,1)&&0!==a.indexOf(this.prefix.substr(0,this.prefix.length-1))&&(a=this.prefix+(a?this.separator:"")+a);c.Router.prototype.navigate.call(this,a,b)},route:function(a,b,d){"/"===a.substr(0)&&(a=a.substr(1,a.length));var e=this.prefix;a&&0<a.length&&(e+=this.separator+a);this.createTrailingSlashRoutes&&(this.routes[e+"/"]=b,c.Router.prototype.route.call(this,e+"/",b,d));delete this.routes[a]; this.routes[e]=b;return c.Router.prototype.route.call(this,e,b,d)}});return c.SubRoute});

console.log('The backbone-subroute.js v0.4.1 file is loaded from localhost.');